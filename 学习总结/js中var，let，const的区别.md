## js中var，let，const的区别

ES2015(ES6) 新增加了两个重要的 JavaScript 关键字: **let** 和 **const**。

let 声明的变量只在 **let 命令所在的代码块{} 内有效**，在 **{}** 之外不能访问。

const 声明一个只读的常量，**一旦声明，常量的值就不能改变。**

在 ES6 之前，JavaScript 只有两种作用域： **全局变量** 与 **函数内的局部变量**。

#### 全局变量

+  在函数外声明的变量作用域是全局的
+  全局变量在 JavaScript 程序的任何地方都可以访问。 

#### 局部变量

+  在函数内声明的变量作用域是局部的（函数内） 
+  函数内使用 var 声明的变量只能在函数内容访问，如果不使用 var 则是全局变量。 

#### let 和 var

使用 var 关键字重新声明变量可能会带来问题。

在块中重新声明变量也会重新声明块外的变量

```javascript
var x = 10;
// 这里输出 x 为 10
{ 
    var x = 2;
    // 这里输出 x 为 2
}
// 这里输出 x 为 2
```

 let 关键字就可以解决这个问题，因为它只在 let 命令所在的代码块 **{}** 内有效。 

```javascript
var x = 10;
// 这里输出 x 为 10
{ 
    let x = 2;
    // 这里输出 x 为 2
}
// 这里输出 x 为 10
```

#### 循环作用域

 使用 var 关键字： 

```java
var i = 5;
for (var i = 0; i < 10; i++) {
    // 一些代码...
}
// 这里输出 i 为 10
```

 使用 let 关键字： 

```javascript
var i = 5;
for (let i = 0; i < 10; i++) {
    // 一些代码...
}
// 这里输出 i 为 5
```

在第一个实例中，使用了 **var** 关键字，它声明的变量是全局的，包括循环体内与循环体外。

在第二个实例中，使用 **let** 关键字， 它声明的变量作用域只在循环体内，循环体外的变量不受影响。

#### const

 const 用于声明一个或多个常量，声明时必须进行初始化，且初始化后值不可再修改： 

```javascript
const PI = 3.141592653589793;
PI = 3.14;      // 报错
PI = PI + 10;   // 报错
```

`const`定义常量与使用`let` 定义的变量相似：

- 二者都是块级作用域
- 都不能和它所在作用域内的其他变量或函数拥有相同的名称

两者还有以下两点区别：

- `const`声明的常量必须初始化，而`let`声明的变量不用
- const 定义常量的值不能通过再赋值修改，也不能再次声明。而 let 定义的变量值可以修改。

 **const 的本质: const 定义的变量并非常量，并非不可变，它定义了一个常量引用一个值。使用 const 定义的对象或者数组，其实是可变的。下面的代码并不会报错：** 

```javascript
// 创建常量对象
const car = {type:"Fiat", model:"500", color:"white"};
 
// 修改属性:
car.color = "red";
 
// 添加属性
car.owner = "Johnson";
```

 但是我们不能对常量对象重新赋值： 

```javascript
const car = {type:"Fiat", model:"500", color:"white"};
car = {type:"Volvo", model:"EX60", color:"red"};    // 错误
```

